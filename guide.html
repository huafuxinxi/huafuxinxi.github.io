<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>起步 | 华付WEB基础框架</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/images/favicon.ico">
    <meta name="description" content="HuaFu WEB Basic Frame">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="expires" cotent="0">
    <meta http-quiv="pragma" cotent="no-cache, must-revalidate">
    <link rel="preload" href="/assets/css/0.styles.ad1b0c17.css" as="style"><link rel="preload" href="/assets/js/app.97fc9209.js" as="script"><link rel="preload" href="/assets/js/2.7cb8c64a.js" as="script"><link rel="preload" href="/assets/js/8.d02dda7e.js" as="script"><link rel="prefetch" href="/assets/js/10.d774e560.js"><link rel="prefetch" href="/assets/js/3.32961940.js"><link rel="prefetch" href="/assets/js/4.8d862f8b.js"><link rel="prefetch" href="/assets/js/5.3a276e84.js"><link rel="prefetch" href="/assets/js/6.2df1621b.js"><link rel="prefetch" href="/assets/js/7.e2b515e8.js"><link rel="prefetch" href="/assets/js/9.108847b2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ad1b0c17.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">华付WEB基础框架</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  快速上手
</a></div><div class="nav-item"><a href="/components.html" class="nav-link">
  公共组件
</a></div><div class="nav-item"><a href="/directives.html" class="nav-link">
  公共指令
</a></div><div class="nav-item"><a href="/utils.html" class="nav-link">
  工具方法
</a></div><div class="nav-item"><a href="/request.html" class="nav-link">
  API请求
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  快速上手
</a></div><div class="nav-item"><a href="/components.html" class="nav-link">
  公共组件
</a></div><div class="nav-item"><a href="/directives.html" class="nav-link">
  公共指令
</a></div><div class="nav-item"><a href="/utils.html" class="nav-link">
  工具方法
</a></div><div class="nav-item"><a href="/request.html" class="nav-link">
  API请求
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>起步</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide.html#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/guide.html#快速上手" class="sidebar-link">快速上手</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/guide.html#目录结构" class="sidebar-link">目录结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide.html#基础目录结构" class="sidebar-link">基础目录结构</a></li><li class="sidebar-sub-header"><a href="/guide.html#目录结构说明" class="sidebar-link">目录结构说明</a></li></ul></li><li><a href="/guide.html#路由配置" class="sidebar-link">路由配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide.html#主配置" class="sidebar-link">主配置</a></li><li class="sidebar-sub-header"><a href="/guide.html#业务配置" class="sidebar-link">业务配置</a></li></ul></li><li><a href="/guide.html#业务组件开发" class="sidebar-link">业务组件开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide.html#组件的声明" class="sidebar-link">组件的声明</a></li><li class="sidebar-sub-header"><a href="/guide.html#data对象的使用" class="sidebar-link">data对象的使用</a></li><li class="sidebar-sub-header"><a href="/guide.html#method方法" class="sidebar-link">method方法</a></li><li class="sidebar-sub-header"><a href="/guide.html#prop声明" class="sidebar-link">Prop声明</a></li><li class="sidebar-sub-header"><a href="/guide.html#watch监听属性" class="sidebar-link">Watch监听属性</a></li><li class="sidebar-sub-header"><a href="/guide.html#computed-计算属性" class="sidebar-link">computed 计算属性</a></li><li class="sidebar-sub-header"><a href="/guide.html#emit-事件" class="sidebar-link">emit 事件</a></li><li class="sidebar-sub-header"><a href="/guide.html#生命周期" class="sidebar-link">生命周期</a></li></ul></li><li><a href="/guide.html#vuex的使用" class="sidebar-link">Vuex的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide.html#主出口" class="sidebar-link">主出口</a></li><li class="sidebar-sub-header"><a href="/guide.html#业务存储" class="sidebar-link">业务存储</a></li></ul></li><li><a href="/guide.html#公共样式" class="sidebar-link">公共样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide.html#element样式的二次修改" class="sidebar-link">element样式的二次修改</a></li><li class="sidebar-sub-header"><a href="/guide.html#混合宏的使用" class="sidebar-link">混合宏的使用</a></li><li class="sidebar-sub-header"><a href="/guide.html#动画的使用" class="sidebar-link">动画的使用</a></li><li class="sidebar-sub-header"><a href="/guide.html#变量定义" class="sidebar-link">变量定义</a></li><li class="sidebar-sub-header"><a href="/guide.html#初始化样式" class="sidebar-link">初始化样式</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="起步"><a href="#起步" class="header-anchor">#</a> 起步</h1> <h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <p>华付前端基础框架主要由vue脚手架+element二次封装+typescript构成，包含了以vue为主要技术的周边大部分技术栈，该基础框架已经定义了基础的华付色调，封装好了路由，请求，cookie，常用组件和指令，登录鉴权，导航，tagsview，vuex，layout布局， 常用工具方法等等，后续会一一详细介绍。</p> <h2 id="快速上手"><a href="#快速上手" class="header-anchor">#</a> 快速上手</h2> <div class="custom-block warning"><p class="custom-block-title">前提条件</p> <p>需要安装Node.js &gt;= 8.6</p></div> <ol><li><p>创建并进入一个新目录</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">mkdir</span> kylin-web <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> kylin-web
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>克隆代码至本地</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">git</span> clone http://hfrdcgit.hfepay.local/kylin/kylin-web.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>安装依赖</p> <p>由于公司加域限制，推荐大家先安装淘宝镜像，然后再下载依赖，或者将源切到淘宝cnpm上。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token comment"># 或者 cnpm install(确保安装了淘宝镜像)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>修改配置</p> <p>修改src --&gt; config文件夹下的setting.ts文件中的相关配置，将项目名和标题等相关配置改成自己项目信息。</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">module</span><span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
    * @description 名字配置，用于打包名字
    */</span>
    appName<span class="token operator">:</span> <span class="token string">&quot;kylin-web&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">/**
    * @description 本地开发服务端口配置
    */</span>
    appPort<span class="token operator">:</span> <span class="token string">&quot;8081&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">/**
    * @description 标题配置，用于主页面title
    */</span>
    appTitle<span class="token operator">:</span> <span class="token string">&quot;华付web基础框架&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">/**
    * @description 是否开启GZip压缩
    */</span>
    gzipSwitch<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">/**
    * @description 需要进行GZip压缩的文件列表
    */</span>
    appGzipExtensionList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">提示</p> <p>请将.gitignore，package.json文件中的项目名统一改成自己的项目名</p></div></li> <li><p>在本地启动服务</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">npm</span> run serve
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此时会在<a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>启动一个热重载的服务</p></li></ol> <p>现在，你应该在本地就可以看到项目的基础页面了。下面，我们去了解一下目录结构和框架中包含的一些知识和工具。</p> <h2 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h2> <h3 id="基础目录结构"><a href="#基础目录结构" class="header-anchor">#</a> 基础目录结构</h3> <p>框架的基础目录结构如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>├── public           		
├── src              
	├──assets                   
		├──font                       
		├──images                              
	├──components	            
		├──breadcrumb                 
		├──dialog                     
		├──search-list                
		├──table                      
	├──config                   
	├──directive                
	├──layout                   
	├──libs                     			
	├──api       	             
	├──error-page               
	├──plugins                  
	├──router                   
		├──modules                    
		├──index.ts                   
	├──store                    
		├──modules                    
		├──index.ts                   
	├──styles                   
	├──views                    
	├──APP.vue                  
	├──main.ts                  
├── vue.config.js     	  	
├── package.json      	  	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">提示</p> <p>请注意目录结构的嵌套关系</p></div> <h3 id="目录结构说明"><a href="#目录结构说明" class="header-anchor">#</a> 目录结构说明</h3> <ul><li><font color="#3eaf7c">public：</font>包含主页面入口html和favicon.ico。如需修改，请KK联系前端开发组--沈渊</li> <li><font color="#3eaf7c">src：</font>内部开发目录，主要业务逻辑代码存放位置</li> <li><font color="#3eaf7c">src/assets：</font>存放字体文件资源（可以直接用自己项目的iconfont覆盖）和图片资源</li> <li><font color="#3eaf7c">src/components：</font>存放通用组件以及公用组件。如需修改，请KK联系前端开发组--沈渊</li> <li><font color="#3eaf7c">src/config：</font>开发相关配置，存放项目配置文件和常用配置文件</li> <li><font color="#3eaf7c">src/directive：</font>自定义相关指令。如需修改和新增自定义指令，请KK联系前端开发组--沈渊</li> <li><font color="#3eaf7c">src/layout：</font>主页面布局</li> <li><font color="#3eaf7c">src/libs：</font>存放封装好的axios，cookie，以及工具方法和常用正则</li> <li><font color="#3eaf7c">src/api：</font>请求接口配置模块，与后端的接口联调请全部放在该文件夹，如无必要，禁止在组件中直接使用axios</li> <li><font color="#3eaf7c">src/plugins：</font>插件模块</li> <li><font color="#3eaf7c">src/router：</font>路由模块，包含基础路由和业务路由，业务路由请在modules文件夹下归类，禁止在index.ts中直接写入</li> <li><font color="#3eaf7c">src/store：</font>中央存储模块（vuex）</li> <li><font color="#3eaf7c">src/styles：</font>公共样式处理模块，建议在_variables.scss文件中定义项目常用颜色</li> <li><font color="#3eaf7c">src/views：</font>主要业务模块，所有的业务请都在该文件下编码，不可直接编码，请先添加子文件夹</li> <li><font color="#3eaf7c">src/APP.vue：</font>vue挂载主页面</li> <li><font color="#3eaf7c">src/main.ts：</font>主JS</li> <li><font color="#3eaf7c">vue.config.js：</font>主配置文件</li> <li><font color="#3eaf7c">package.json：</font>依赖包文件</li></ul> <h2 id="路由配置"><a href="#路由配置" class="header-anchor">#</a> 路由配置</h2> <p>路由配置分为index.ts（主出口文件）和modules（业务路由配置目录）。</p> <h3 id="主配置"><a href="#主配置" class="header-anchor">#</a> 主配置</h3> <p>主配置文件index.ts用于导出基础路由和业务路由，其中基础路由一般情况下不轻易改变，业务路由导出方式为：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/router/modules/home'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> businessRouter<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>RouteConfig<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  Home
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>只需要将导出的业务路由（如上示例中的<code>Home</code>）加入到<code>businessRouter</code>数组即可。</p> <h3 id="业务配置"><a href="#业务配置" class="header-anchor">#</a> 业务配置</h3> <p>业务路由控制着主页面导航栏的显示，组件的加载和tagsview和breadcrumb的显示。</p> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">类型</th> <th style="text-align:center;">是否必填</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">path</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:left;">访问业务组件的路径</td></tr> <tr><td style="text-align:center;">name</td> <td style="text-align:center;">string</td> <td style="text-align:center;">是</td> <td style="text-align:left;">组件的name</td></tr> <tr><td style="text-align:center;">redirect</td> <td style="text-align:center;">string</td> <td style="text-align:center;">否</td> <td style="text-align:left;">如果path不可用，则重定向到该路径</td></tr> <tr><td style="text-align:center;">component</td> <td style="text-align:center;">object</td> <td style="text-align:center;">是</td> <td style="text-align:left;">组件模板对象</td></tr> <tr><td style="text-align:center;">meta</td> <td style="text-align:center;">object</td> <td style="text-align:center;">否</td> <td style="text-align:left;">自定义参数配置对象</td></tr> <tr><td style="text-align:center;">meta{icon}</td> <td style="text-align:center;">string</td> <td style="text-align:center;">否</td> <td style="text-align:left;">sidebar中展示的图标,如果是二级导航，自动屏蔽</td></tr> <tr><td style="text-align:center;">meta{title}</td> <td style="text-align:center;">string</td> <td style="text-align:center;">否</td> <td style="text-align:left;">sidebar中展示的导航标题，breadcrumb中的导航目录，tagsview中的历史名称</td></tr> <tr><td style="text-align:center;">meta{hide}</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">否</td> <td style="text-align:left;">控制该路由在sidebar中的显示</td></tr> <tr><td style="text-align:center;">meta{viewHidden}</td> <td style="text-align:center;">boolean</td> <td style="text-align:center;">否</td> <td style="text-align:left;">控制该路由在tagsview中的显示</td></tr> <tr><td style="text-align:center;">children</td> <td style="text-align:center;">array</td> <td style="text-align:center;">否</td> <td style="text-align:left;">子组件，递归结构</td></tr></tbody></table> <p>业务路由请都在modules文件夹下根据业务建立对应的.ts文件，最后导出到index.ts主入口，业务路由示例如下：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">'@/layout/index.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    redirect<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    meta<span class="token operator">:</span> <span class="token punctuation">{</span>
        icon<span class="token operator">:</span> <span class="token string">'iconmenjinguanli'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    children<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            path<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
            meta<span class="token operator">:</span> <span class="token punctuation">{</span>
                title<span class="token operator">:</span> <span class="token string">'首页'</span><span class="token punctuation">,</span>
                hide<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// false可不写该属性</span>
                icon<span class="token operator">:</span> <span class="token string">'iconmenjinguanli'</span><span class="token punctuation">,</span>
                viewHidden<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// false可不写该属性</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../../views/home/index.vue'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="业务组件开发"><a href="#业务组件开发" class="header-anchor">#</a> 业务组件开发</h2> <p>在业务开发时，会用到以下几个typescript非常好用的库</p> <ul><li><code>vue-class-component</code>： 是一个Class Decorator，类的装饰器</li> <li><code>vue-property-decorator</code>： 我们业务开发的<code>Vue</code>实例，<code>Component</code>组件，<code>Watch</code>，<code>Emit</code>，<code>Prop</code>等等都将基于这个库</li> <li><code>vuex-module-decorators</code>： vuex中使用的<code>VuexModule</code>，<code>Module</code>，<code>Mutation</code>，<code>Action</code>，<code>getModule</code>等将基于这个库</li></ul> <h3 id="组件的声明"><a href="#组件的声明" class="header-anchor">#</a> 组件的声明</h3> <p>组件声明的方式统一变成如下格式：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ts<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Vue <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>对于需要用到的<code>Component，Watch，Emit</code>等按需引入</p></div> <h3 id="data对象的使用"><a href="#data对象的使用" class="header-anchor">#</a> data对象的使用</h3> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ts<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Vue <span class="token punctuation">{</span>
    <span class="token keyword">private</span> name<span class="token operator">:</span> string<span class="token operator">|</span><span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> age<span class="token operator">!</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>区别于data函数返回对象的方式，可以直接定义属性。</p> <h3 id="method方法"><a href="#method方法" class="header-anchor">#</a> method方法</h3> <p>区别于以前在methods对象中定义方法，现在定义方法如下:</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ts<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Vue <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token comment">// TODU</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="prop声明"><a href="#prop声明" class="header-anchor">#</a> Prop声明</h3> <p>区别于以前props是一个对象，里面包含每个prop对象，或者props是一个数组的方式，现在定义方法如下：</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ts<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Prop <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>
<span class="token keyword">interface</span> <span class="token class-name">Option</span> <span class="token punctuation">{</span>
  stripe<span class="token operator">:</span> boolean<span class="token punctuation">;</span> 
  border<span class="token operator">:</span> boolean<span class="token punctuation">;</span> 
  highlightCurrentRow<span class="token operator">:</span> boolean<span class="token punctuation">;</span> 
  selection<span class="token operator">:</span> boolean<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Vue <span class="token punctuation">{</span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">private</span> data<span class="token operator">!</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
    <span class="token punctuation">(</span><span class="token punctuation">{</span> stripe<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> border<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> highlightCurrentRow<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> selection<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> options<span class="token operator">!</span><span class="token operator">:</span> Option<span class="token punctuation">;</span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">private</span> tableTitle<span class="token operator">!</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>!:表示一定存在，?:表示可能存在。这两种都是赋值断言</li> <li>@Prop(options: (PropOptions | Constructor[] | Constructor) = {})
<ul><li>PropOptions，可以使用以下选项：type，default，required，validator</li> <li>Constructor[]，指定 prop 的可选类型</li> <li>Constructor，例如 String，Number，Boolean 等，指定 prop 的类型</li></ul></li></ul></div> <h3 id="watch监听属性"><a href="#watch监听属性" class="header-anchor">#</a> Watch监听属性</h3> <p>区别于以前在watch对象中加入方法或者对象的方式，现在使用装饰器的定义方式如下：</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ts<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Vue <span class="token punctuation">{</span>
    @<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">&quot;$router&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>immediate<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> deep<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token function">watchRouter</span><span class="token punctuation">(</span><span class="token parameter">router<span class="token operator">:</span> Route</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// TODU</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><code>@Watch(path: string, options: {})</code> <ul><li><code>options</code>包含两个属性<code>immediate</code>和<code>deep</code></li> <li><code>immediate?:boolean</code> 侦听开始之后是否立即调用该回调函数</li> <li><code>deep?:boolean</code> 被侦听的对象的属性被改变时，是否调用该回调函数</li></ul></li></ul></div> <h3 id="computed-计算属性"><a href="#computed-计算属性" class="header-anchor">#</a> computed 计算属性</h3> <p>区别于以前在computed对象中加入方法或者对象的方式，现在定义方式如下：</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ts<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Vue <span class="token punctuation">{</span>
    <span class="token keyword">private</span> name <span class="token operator">=</span> <span class="token string">'hua'</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name <span class="token operator">+</span> <span class="token string">' fu'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><code>name</code>是监听的值，<code>fullName</code>是计算之后的值。</p> <h3 id="emit-事件"><a href="#emit-事件" class="header-anchor">#</a> emit 事件</h3> <p>emit事件和以前@emit形式有比较大的区别，以前的@emit可以继续使用（有兼容处理），现在定义方式如下：</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ts<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Emit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Vue <span class="token punctuation">{</span>
    <span class="token keyword">private</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    @<span class="token function">Emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">returnTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    @<span class="token function">Emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">addTotal</span><span class="token punctuation">(</span><span class="token parameter">num<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">+=</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @<span class="token function">Emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">returnNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @<span class="token function">Emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">returnE</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span>

    @<span class="token function">Emit</span><span class="token punctuation">(</span><span class="token string">'reset'</span><span class="token punctuation">)</span>
    <span class="token function">resetTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @<span class="token function">Emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><p>以后是使用最新写法，下面是使用以前的写法：</p> <div class="language-vue line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            total<span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">returnTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'return-total'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">addTotal</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">+=</span> num<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'add-total'</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">returnNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'return-num'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">returnE</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'return-e'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span> e<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">resetTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'reset'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'promise'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>@Emit(event?: string)</li> <li>@Emit 装饰器接收一个可选参数，该参数如果存在，则将其作为事件名，如果不存在，会将回调函数名的 camelCase 转为 kebab-case，并将其作为事件名</li> <li>@Emit 会将回调函数的返回值作为第二个参数，如果返回值是一个 Promise 对象，$emit 会在 Promise 对象被标记为 resolved 之后触发</li> <li>@Emit 的回调函数的参数，会放在其返回值之后，一起被$emit 当做参数使用</li></ul></div> <h3 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h3> <p>生命周期函数改动不大，增加了修饰符和返回值（当然也可以不写），定义如下：</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ts<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'home'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Vue <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mounted'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="vuex的使用"><a href="#vuex的使用" class="header-anchor">#</a> Vuex的使用</h2> <p>在使用store装饰器之前，先看下以前的store的使用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    isCollapse<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">isCollapse</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>isCollapse
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">TOGGLE_ISCOLLAPSE</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>isCollapse <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">ToggleIsCollpase</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'TOGGLE_ISCOLLAPSE'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>使用store装饰器，主要依赖的是<code>vuex-module-decorators</code>库。
<code>vuex-module-decorators</code>库中主要包含以下模块：<code>VuexModule</code>,<code>Mutation</code>,<code>Action</code>,<code>getModule</code>,<code>Module</code>。</p> <ul><li><p><code>VuexModule</code></p> <p><code>VuexModule</code>用于基础属性，这个模块提供了基础属性包括：<code>namespaced,state,getters,mutations,actions</code>等</p></li> <li><p><code>@Mutation</code>也就是标注以前的mutation</p></li> <li><p><code>@Action</code>也就是标注以前的action</p></li> <li><p><code>getModule</code></p> <p>getModule 得到一个类型安全的 store，module 必须提供 name 属性</p></li> <li><p><code>@Module</code></p> <p><code>@Module</code>标注当前的业务store，注册的对象中可配置以下属性：</p> <ul><li><code>namespaced:boolean</code> 启/停用 是否区分命名空间</li> <li><code>dynamic:boolean</code> 在 store 创建之后，再添加到 store 中。开启 dynamic 之后必须提供下面的属性
<ul><li><code>name:string</code> 指定模块名称</li> <li><code>store:Vuex.Store</code> 实体 提供初始的 store</li></ul></li></ul></li></ul> <p>以上只是一些知识点，如果不太了解也没关系，只需按照下面<strong>主入口</strong>和<strong>业务存储</strong>的流程使用即可。</p> <h3 id="主出口"><a href="#主出口" class="header-anchor">#</a> 主出口</h3> <p>主出口文件<code>index.ts</code>只负责业务存储的出口，不进行任何业务操作，如果需要加入项目业务，请在modules文件夹新建.ts文件（业务存储流程），然后将其导入到<code>index.ts</code>中，导入实例如下：</p> <div class="language-ts line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-ts"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./modules/app&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> UserState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./modules/user&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> TagsviewState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./modules/tagsview&quot;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">RootState</span> <span class="token punctuation">{</span>
  app<span class="token operator">:</span> AppState<span class="token punctuation">;</span>
  user<span class="token operator">:</span> UserState<span class="token punctuation">;</span>
  tagsview<span class="token operator">:</span> TagsviewState<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex</span><span class="token punctuation">.</span><span class="token generic-function"><span class="token function">Store</span><span class="token generic class-name"><span class="token operator">&lt;</span>RootState<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>只需要加入类似于<code>import { AppState } from &quot;./modules/app&quot;;</code>和<code>app: AppState;</code>的代码即可</p> <h3 id="业务存储"><a href="#业务存储" class="header-anchor">#</a> 业务存储</h3> <p>如果需要在vuex中增加相关业务的数据或者状态存储，根据业务取合适的业务名的.ts文件增加到modules文件夹中，以下为示例：</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    VuexModule<span class="token punctuation">,</span>
    Module<span class="token punctuation">,</span>
    Mutation<span class="token punctuation">,</span>
    Action<span class="token punctuation">,</span>
    getModule
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex-module-decorators&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;@/store&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 定义state接口类型</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AppState</span> <span class="token punctuation">{</span>
    isCollapse<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token comment">// sidebar是否展开</span>
<span class="token punctuation">}</span>

@<span class="token function">Module</span><span class="token punctuation">(</span><span class="token punctuation">{</span> dynamic<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> store<span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&quot;app&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">VuexModule</span> <span class="token keyword">implements</span> <span class="token class-name">AppState</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> isCollapse <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 切换sidebar的展开关闭</span>
    @Mutation
    <span class="token keyword">private</span> <span class="token constant">TOGGLE_ISCOLLAPSE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>isCollapse <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isCollapse<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @Action
    <span class="token keyword">public</span> <span class="token function">ToggleIsCollpase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">TOGGLE_ISCOLLAPSE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> AppModule <span class="token operator">=</span> <span class="token function">getModule</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="公共样式"><a href="#公共样式" class="header-anchor">#</a> 公共样式</h2> <p>公共样式统一放在<strong>src/styles</strong>文件夹中，文件夹中包含五个样式文件：</p> <ul><li><code>_defalut-element.scss</code>： 用于对element样式的二次修改</li> <li><code>_mixins.scss</code>： 用于混合宏的使用</li> <li><code>_transition.scss</code>： 用于动画</li> <li><code>_variables.scss</code>： 用于颜色，宽度，边框等变量的定义</li> <li><code>index.scss</code>： 用于底层样式的初始化</li></ul> <p>上面五个样式文件已经全局加载过，不需要再次加载，理论上公共样式全部归纳于这五个文件中，如果有必要条件需要增加，需要自行添加到全局中。</p> <h3 id="element样式的二次修改"><a href="#element样式的二次修改" class="header-anchor">#</a> element样式的二次修改</h3> <p><code>_defalut-element.scss</code>文件已经做了基础的符合华付色调的element样式的二次修改，主要修改了：message弹出层样式、sidebar样式、el-button样式，并且提供了四个公用的class:</p> <ul><li><code>theme-input-inner</code>： 公共的input输入框样式</li> <li><code>theme-input-item</code>： 公共的form表单中input输入框样式</li> <li><code>theme-input-title</code>： 公共的input的标题样式</li> <li><code>theme-module</code>：业务组件通用样式</li></ul> <h3 id="混合宏的使用"><a href="#混合宏的使用" class="header-anchor">#</a> 混合宏的使用</h3> <p><code>_mixins.scss</code>中定义混合宏的使用，框架中仅包含了<code>clearfix</code>（清除浮动）和<code>theme-border</code>（主题边框）。如果有通用的混合宏，可以在该文件中定义，不建议在业务组件中分别定义混合宏。</p> <h3 id="动画的使用"><a href="#动画的使用" class="header-anchor">#</a> 动画的使用</h3> <p><code>_transition.scss</code>中定义了动画的使用。框架中包含了面包屑转换动画，业务组件切换动画，如果后续需要增加，请定义在该文件中。（如果仅单个业务使用，定义到单个业务的组建中）</p> <h3 id="变量定义"><a href="#变量定义" class="header-anchor">#</a> 变量定义</h3> <p><code>_variables.scss</code>中定义所有业务需要使用的通用颜色。框架中包含了sidebar，navbar，边框，背景，文字等符合华付基础色调的通用颜色。如果业务中有复用的颜色，可以在此文件中定义。</p> <h3 id="初始化样式"><a href="#初始化样式" class="header-anchor">#</a> 初始化样式</h3> <p><code>index.scss</code>中定义初始化的样式。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.97fc9209.js" defer></script><script src="/assets/js/2.7cb8c64a.js" defer></script><script src="/assets/js/8.d02dda7e.js" defer></script>
  </body>
</html>
